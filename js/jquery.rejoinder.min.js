/*global $:true,jQuery:true*//*jslint debug: true, devel: true, evil: true, vars: true, sloppy: true, undef: true */(function(e){var t={init:function(t){var r=e.extend({tableClass:"responsive",minWidth:767},t);return this.each(function(t){var i=e(this),s=i.data("rejoinder");s||i.data("rejoinder",r),n(i),e(window).on("resize",{elem:i},function(e){n(e.data.elem)})})},destroy:function(){return this.each(function(){var t=e(this),n=t.data("rejoinder");n.rejoinder.remove()})}},n=function(t){var n=t.data("rejoinder"),s=t.find("th :first").outerWidth();if(e(window).width()<n.minWidth&&!t.data("split")){var o=t.clone();t.wrap("<div class='table-wrapper' />"),t.closest(".table-wrapper").append(o),o.wrap("<div class='pinned' />"),t.wrap("<div class='rejoinder-scrollable' />"),r(t),i(t),o.find("td, th:not(:first-child)").css("display","none"),t.data("split",!0)}else e(window).width()<n.minWidth&&t.data("split")?i(t):t.data("split")&&e(window).width()>=n.minWidth&&(t.closest(".table-wrapper").find(".pinned").remove(),t.closest(".table-wrapper").find(".lastCol").remove(),t.unwrap(),t.unwrap(),t.data("split",!1))},r=function(t){t.find("tr").each(function(t,n){var r=e(n),i=r.find(".firstCol").clone().removeClass("firstCol").addClass("lastCol");r.append(i)})},i=function(t){originalTableRows=t.find("tr"),t.closest(".table-wrapper").find(".pinned table tr").each(function(t,n){e(n).css("height",e(originalTableRows[t]).css("height"))})};e.fn.rejoinder=function(n){var r=e(this);return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):typeof n=="object"||!n?t.init.apply(this,arguments):(e.error("Method "+n+" does not exist on jQuery.rejoinder"),this)}})(jQuery);